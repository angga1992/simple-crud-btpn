(this["webpackJsonpjenius-app"]=this["webpackJsonpjenius-app"]||[]).push([[0],{37:function(t,e,a){},63:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a(30),s=a.n(c),o=a(11),i=a(9),r=a(10),l=a(14),h=a(13),d=(a(37),a(38),a(3)),u=a(2),j=a(31),b=a.n(j).a.create({baseURL:"https://simple-contact-crud.herokuapp.com",headers:{"Content-type":"application/json"}}),m=new(function(){function t(){Object(i.a)(this,t)}return Object(r.a)(t,[{key:"getAll",value:function(){return b.get("/contact")}},{key:"get",value:function(t){return b.get("/contact/".concat(t))}},{key:"create",value:function(t){return b.post("/contact",t)}},{key:"update",value:function(t,e){return b.put("/contact/".concat(t),e)}},{key:"delete",value:function(t){return b.delete("/contact/".concat(t))}},{key:"findById",value:function(t){return b.get("/contact/".concat(t))}}]),t}()),v=a(0),O=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).onChangephoto=function(t){t.preventDefault();var e=t.target.files[0],a=new FileReader;a.onloadend=function(){n.setState({photo:a.result,imagePreviewUrl:a.result})},a.readAsDataURL(e)},n.onChangefirstName=n.onChangefirstName.bind(Object(u.a)(n)),n.onChangelastName=n.onChangelastName.bind(Object(u.a)(n)),n.onChangephoto=n.onChangephoto.bind(Object(u.a)(n)),n.onChangeAge=n.onChangeAge.bind(Object(u.a)(n)),n.saveContact=n.saveContact.bind(Object(u.a)(n)),n.newContact=n.newContact.bind(Object(u.a)(n)),n.state={id:null,firstName:"",lastName:"",age:null,photo:"",imagePreviewUrl:""},n}return Object(r.a)(a,[{key:"onChangefirstName",value:function(t){this.setState({firstName:t.target.value})}},{key:"onChangelastName",value:function(t){this.setState({lastName:t.target.value})}},{key:"onChangeAge",value:function(t){this.setState({age:t.target.value})}},{key:"saveContact",value:function(){var t=this,e={firstName:this.state.firstName,lastName:this.state.lastName,age:this.state.age,photo:this.state.photo};m.create(e).then((function(e){t.setState({id:e.data.id,firstName:e.data.firstName,lastName:e.data.description,age:e.data.age,photo:e.data.photo}),alert("contact saved"),t.props.history.push("/")})).catch((function(t){console.log(t)}))}},{key:"newContact",value:function(){this.setState({id:null,firstName:"",lastName:"",age:"",photo:""})}},{key:"render",value:function(){var t=this.state.imagePreviewUrl,e=null;return t&&(e=Object(v.jsx)("img",{src:t})),Object(v.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"You submitted successfully!"}),Object(v.jsx)("button",{className:"btn btn-success",onClick:this.newContact,children:"Add"})]}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"title",children:"firstName"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"firstName",required:!0,value:this.state.firstName,onChange:this.onChangefirstName,name:"firstName"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"description",children:"lastName"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"lastName",required:!0,value:this.state.lastName,onChange:this.onChangelastName,name:"lastName"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"description",children:"Age"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"age",required:!0,value:this.state.age,onChange:this.onChangeAge,name:"age"})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"description",children:"photo"}),Object(v.jsx)("input",{type:"file",className:"form-control",id:"photo",required:!0,onChange:this.onChangephoto,name:"file"})]}),Object(v.jsx)("div",{className:"previewImage",children:e}),Object(v.jsx)("div",{className:"add-contact-action",children:Object(v.jsx)("button",{onClick:this.saveContact,className:"button add-contact",children:"Submit"})})]})})}}]),a}(n.Component),g=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).retrievecontacts=n.retrievecontacts.bind(Object(u.a)(n)),n.refreshList=n.refreshList.bind(Object(u.a)(n)),n.setActiveContact=n.setActiveContact.bind(Object(u.a)(n)),n.removeById=n.removeById.bind(Object(u.a)(n)),n.state={contacts:[],currentContact:null,currentIndex:-1},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.retrievecontacts()}},{key:"retrievecontacts",value:function(){var t=this;m.getAll().then((function(e){t.setState({contacts:e.data.data})})).catch((function(t){console.log(t)}))}},{key:"refreshList",value:function(){this.retrievecontacts(),this.setState({currentContact:null,currentIndex:-1})}},{key:"setActiveContact",value:function(t,e){this.setState({currentContact:t,currentIndex:e})}},{key:"removeById",value:function(t){var e=this;m.delete(t).then((function(t){e.refreshList()})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state,a=e.contacts,n=e.currentContact,c=e.currentIndex;return Object(v.jsxs)("div",{className:"list row gx-5",children:[Object(v.jsxs)("div",{className:"col-md-6",children:[Object(v.jsx)("h4",{children:"contacts List"}),Object(v.jsx)("ul",{className:"list-group",children:a&&a.map((function(e,a){return Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"list-group-item pointer-contact"+(a===c?"active":""),onClick:function(){return t.setActiveContact(e,a)},children:e.firstName},a),Object(v.jsx)("button",{className:"button remove-contact sizes",onClick:t.removeById(e.id),children:"Delete"}),Object(v.jsx)("button",{className:"button edit-contact sizes",children:Object(v.jsx)(o.b,{className:"link-add",to:"/contact/"+e.id,children:"Edit"})})]})}))})]}),Object(v.jsx)("div",{className:"col-md-6",children:n?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:"N/A"!==n.photo?Object(v.jsx)("img",{height:"200px",width:"200px",src:n.photo}):Object(v.jsx)("div",{className:"emptyPhoto"})}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"Name"})})," ",n.firstName," "," ",n.lastName]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:Object(v.jsx)("strong",{children:"Age:"})})," ",n.age]})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"Please click on a contact..."})]})})]})}}]),a}(n.Component),f=a(12),p=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).onChangefirstName=n.onChangefirstName.bind(Object(u.a)(n)),n.onChangelastName=n.onChangelastName.bind(Object(u.a)(n)),n.onChangeAge=n.onChangeAge.bind(Object(u.a)(n)),n.onChangePhoto=n.onChangePhoto.bind(Object(u.a)(n)),n.getContact=n.getContact.bind(Object(u.a)(n)),n.updateContact=n.updateContact.bind(Object(u.a)(n)),n.deleteContact=n.deleteContact.bind(Object(u.a)(n)),n.state={currentContact:{fistName:"",lastName:"",age:"",photo:""}},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getContact(this.props.match.params.id)}},{key:"onChangefirstName",value:function(t){var e=t.target.value;this.setState((function(t){return{currentContact:Object(f.a)(Object(f.a)({},t.currentContact),{},{firstName:e})}}))}},{key:"onChangelastName",value:function(t){var e=t.target.value;this.setState((function(t){return{currentContact:Object(f.a)(Object(f.a)({},t.currentContact),{},{lastName:e})}}))}},{key:"onChangeAge",value:function(t){var e=t.target.value;this.setState((function(t){return{currentContact:Object(f.a)(Object(f.a)({},t.currentContact),{},{age:e})}}))}},{key:"onChangePhoto",value:function(t){var e=t.target.value;this.setState((function(t){return{currentContact:Object(f.a)(Object(f.a)({},t.currentContact),{},{photo:e})}}))}},{key:"getContact",value:function(t){var e=this;m.get(t).then((function(t){e.setState({currentContact:t.data.data})})).catch((function(t){console.log(t)}))}},{key:"updateContact",value:function(){var t=this,e={firstName:this.state.currentContact.firstName,lastName:this.state.currentContact.lastName,age:this.state.currentContact.age,photo:this.state.currentContact.photo};m.update(this.state.currentContact.id,e).then((function(e){t.setState({message:"The contact was updated successfully!"})})).catch((function(t){console.log(t)}))}},{key:"deleteContact",value:function(){var t=this;m.delete(this.state.currentContact.id).then((function(e){t.props.history.push("/contacts")})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this.state.currentContact;return Object(v.jsx)("div",{children:t?Object(v.jsxs)("div",{className:"edit-form",children:[Object(v.jsx)("h4",{children:"Edit Contact"}),Object(v.jsxs)("form",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"firstName",children:"firstName"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"firstName",value:t.firstName,onChange:this.onChangefirstName})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"lastName",children:"lastName"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"lastName",value:t.lastName,onChange:this.onChangelastName})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"age",children:"age"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"age",value:t.age,onChange:this.onChangeAge})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("div",{className:"content-photo",children:Object(v.jsx)("img",{className:"image-contact",src:t.photo})}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"photo",value:t.photo,onChange:this.onChangePhoto})]})]}),Object(v.jsxs)("div",{className:"content-action",children:[Object(v.jsx)("div",{className:"button add-contact",children:Object(v.jsx)(o.b,{className:"link-add",to:"/add",children:"Add"})}),Object(v.jsx)("button",{className:"button remove-contact",onClick:this.deleteContact,children:"Delete"}),Object(v.jsx)("button",{type:"submit",className:"button edit-contact",onClick:this.updateContact,children:"Update"})]}),Object(v.jsx)("p",{children:this.state.message})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("p",{children:"Please click on a contact..."})]})})}}]),a}(n.Component),N=function(t){Object(l.a)(a,t);var e=Object(h.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(v.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(o.b,{to:"/list",className:"nav-link",children:"List Contact"})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(o.b,{to:"/add",className:"nav-link",children:"Add"})})]})}),Object(v.jsx)("div",{className:"container mt-3",children:Object(v.jsxs)(d.c,{children:[Object(v.jsx)(d.a,{exact:!0,path:["/","/list"],component:g}),Object(v.jsx)(d.a,{exact:!0,path:"/add",component:O}),Object(v.jsx)(d.a,{path:"/contact/:id",component:p})]})})]})}}]),a}(n.Component);s.a.render(Object(v.jsx)(o.a,{children:Object(v.jsx)(N,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.2b3fc413.chunk.js.map